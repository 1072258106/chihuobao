webpackJsonp([22],{Iwgb:function(e,r,t){"use strict";function o(e){t("Wpha")}Object.defineProperty(r,"__esModule",{value:!0});var n=t("RRo+"),s=t.n(n),a=t("pN2o"),i={data:function(){var e=function(e,r,t){if(!r)return t(new Error("手机号不能为空"));setTimeout(function(){s()(r)?11!==(""+r).length?t(new Error("请输入正确的手机号")):t():t(new Error("请输入数字值"))},100)};return{ruleForm:{pass:"",code:"",phone:""},rules:{pass:[{validator:function(e,r,t){""===r?t(new Error("请输入密码")):t()},trigger:"blur"}],code:[{validator:function(e,r,t){""===r?t(new Error("请输入验证码")):t()},trigger:"blur"}],phone:[{validator:e,trigger:"blur"}]},codeText:"获取验证码",disabled:!1,timer:null}},methods:{register:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit"),!1;var t=r.ruleForm,o=t.pass,n=t.code,s=t.phone;Object(a.n)(s,o,n).then(function(e){1===e.code?(r.$message({showClose:!0,message:"注册成功，请登录",type:"success"}),r.$router.push("/login")):603===e.code?(r.$message({showClose:!0,message:"该手机号已注册，请登录",type:"error"}),r.$router.push("/login")):r.$message({showClose:!0,message:"注册失败，请稍后再试",type:"error"})})})},sendCode:function(){var e=this,r=this.ruleForm.phone;s()(r)&&11===(""+r).length&&(this.disabled=!0,Object(a.p)(r).then(function(r){1===r.code?(e.$message({showClose:!0,message:"已发送",type:"success"}),e.codeText="60秒",e.disabled=!0,e.timer=setInterval(function(){e.codeText=parseInt(e.codeText)-1,0===e.codeText?(e.codeText="获取验证码",e.disabled=!1,clearInterval(e.timer)):e.codeText=e.codeText+"秒"},1e3)):(e.$message({showClose:!0,message:"发送失败",type:"error"}),e.disabled=!1)}))}}},d=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"register"},[t("div",{staticClass:"form"},[t("div",{staticClass:"formHead"},[e._v("注册")]),e._v(" "),t("el-form",{ref:"ruleForm",staticClass:"ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,size:"small"}},[t("el-form-item",{attrs:{prop:"phone"}},[t("el-input",{attrs:{placeholder:"手机号"},model:{value:e.ruleForm.phone,callback:function(r){e.$set(e.ruleForm,"phone",e._n(r))},expression:"ruleForm.phone"}})],1),e._v(" "),t("el-form-item",{attrs:{prop:"pass"}},[t("el-input",{attrs:{placeholder:"密码",type:"password","auto-complete":"off"},model:{value:e.ruleForm.pass,callback:function(r){e.$set(e.ruleForm,"pass",r)},expression:"ruleForm.pass"}})],1),e._v(" "),t("el-form-item",{staticClass:"codeProp",attrs:{prop:"code"}},[t("el-input",{staticClass:"setCode",attrs:{placeholder:"验证码",type:"text","auto-complete":"off"},model:{value:e.ruleForm.code,callback:function(r){e.$set(e.ruleForm,"code",r)},expression:"ruleForm.code"}}),e._v(" "),t("el-button",{staticClass:"getCode",attrs:{disabled:e.disabled,type:"primary"},on:{click:e.sendCode}},[e._v(e._s(e.codeText))])],1),e._v(" "),t("el-form-item",[t("el-button",{staticClass:"submit",attrs:{type:"primary"},on:{click:function(r){e.register("ruleForm")}}},[e._v("注册")])],1)],1)],1)])},l=[],c={render:d,staticRenderFns:l},m=c,u=t("VU/8"),p=o,A=u(i,m,!1,p,"data-v-0dd581a0",null);r.default=A.exports},Wpha:function(e,r,t){var o=t("dQPO");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);t("rjj0")("7fdb1f99",o,!0)},dQPO:function(e,r,t){r=e.exports=t("FZ+f")(!0),r.push([e.i,"\n.register[data-v-0dd581a0] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  min-height: 620px;\n}\n.register .form[data-v-0dd581a0] {\n    width: 25%;\n    margin: auto;\n    padding: 20px;\n    border-radius: 5px;\n    background: #fff;\n    min-width: 350px;\n    max-width: 400px;\n}\n.register .form .formHead[data-v-0dd581a0] {\n      text-align: center;\n      margin: 10px;\n      font-size: 20px;\n}\n.register .form .ruleForm[data-v-0dd581a0] {\n      text-align: center;\n}\n.register .form .ruleForm .codeProp .setCode[data-v-0dd581a0] {\n        width: 60%;\n        float: left;\n}\n.register .form .ruleForm .codeProp .getCode[data-v-0dd581a0] {\n        width: 30%;\n        float: right;\n}\n.register .form .ruleForm .submit[data-v-0dd581a0] {\n        width: 100%;\n}\n","",{version:3,sources:["G:/WebstormProjects/Vue/chihuobao/src/pages/user/register.vue"],names:[],mappings:";AACA;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,kBAAkB;CACnB;AACD;IACI,WAAW;IACX,aAAa;IACb,cAAc;IACd,mBAAmB;IACnB,iBAAiB;IACjB,iBAAiB;IACjB,iBAAiB;CACpB;AACD;MACM,mBAAmB;MACnB,aAAa;MACb,gBAAgB;CACrB;AACD;MACM,mBAAmB;CACxB;AACD;QACQ,WAAW;QACX,YAAY;CACnB;AACD;QACQ,WAAW;QACX,aAAa;CACpB;AACD;QACQ,YAAY;CACnB",file:"register.vue",sourcesContent:["\n.register[data-v-0dd581a0] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  min-height: 620px;\n}\n.register .form[data-v-0dd581a0] {\n    width: 25%;\n    margin: auto;\n    padding: 20px;\n    border-radius: 5px;\n    background: #fff;\n    min-width: 350px;\n    max-width: 400px;\n}\n.register .form .formHead[data-v-0dd581a0] {\n      text-align: center;\n      margin: 10px;\n      font-size: 20px;\n}\n.register .form .ruleForm[data-v-0dd581a0] {\n      text-align: center;\n}\n.register .form .ruleForm .codeProp .setCode[data-v-0dd581a0] {\n        width: 60%;\n        float: left;\n}\n.register .form .ruleForm .codeProp .getCode[data-v-0dd581a0] {\n        width: 30%;\n        float: right;\n}\n.register .form .ruleForm .submit[data-v-0dd581a0] {\n        width: 100%;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=22.6fef0911d10bd11497bb.js.map