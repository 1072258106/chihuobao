webpackJsonp([10],{Medr:function(e,t,a){var n=a("muYF");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("090b12e6",n,!0)},O8Au:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,"\n.order[data-v-33a0686c] {\n  position: relative;\n}\n.order .header[data-v-33a0686c] {\n    background: #fff;\n}\n.order .header ul[data-v-33a0686c] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      width: 50%;\n}\n.order .header ul li[data-v-33a0686c] {\n        -webkit-box-flex: 1;\n            -ms-flex: 1;\n                flex: 1;\n        line-height: 50px;\n        text-align: center;\n        -webkit-transition: all .1s;\n        transition: all .1s;\n        cursor: pointer;\n}\n.order .header ul li.active[data-v-33a0686c] {\n          -webkit-box-shadow: 0px -2px #1e89e0 inset;\n                  box-shadow: 0px -2px #1e89e0 inset;\n          color: #1e89e0;\n}\n.wrapper[data-v-33a0686c] {\n  background: #eee;\n  padding: 10px;\n}\n.content[data-v-33a0686c] {\n  height: 550px;\n  padding: 15px;\n  background: #fff;\n}\n.content .orderCard[data-v-33a0686c] {\n    margin-bottom: 20px;\n}\n.el-pagination[data-v-33a0686c] {\n  position: absolute;\n  bottom: 25px;\n  right: 100px;\n}\n",""])},muYF:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,"\n.card[data-v-2f2addda] {\n  padding: 10px;\n  height: 100%;\n  position: relative;\n}\n.card .cost[data-v-2f2addda] {\n    font-size: 20px;\n    color: red;\n}\n.card p[data-v-2f2addda] {\n    margin: 10px;\n}\n.card .btn[data-v-2f2addda] {\n    float: right;\n    padding: 10px;\n    border-radius: 3px;\n    -webkit-transform: translateY(-25px);\n            transform: translateY(-25px);\n    background: #49a2ff;\n    color: #fff;\n    outline: none;\n    cursor: pointer;\n}\n.card .btn[data-v-2f2addda]:hover {\n      background: #409eff;\n}\n.card .btnN[data-v-2f2addda] {\n    float: right;\n    margin-right: 10px;\n    -webkit-transform: translateY(-9px);\n            transform: translateY(-9px);\n    font-size: 14px;\n    border-radius: 2px;\n    padding: 3px;\n}\n.accept[data-v-2f2addda] {\n  background: #409eff;\n  padding: 10px 15px;\n  color: #fff;\n}\n.notAccept[data-v-2f2addda] {\n  font-size: 12px;\n}\n.disabled[data-v-2f2addda] {\n  color: #ccc;\n  cursor: auto;\n}\n.el-pagination[data-v-2f2addda] {\n  position: absolute;\n  bottom: 25px;\n  right: 100px;\n}\n",""])},nftU:function(e,t,a){var n=a("O8Au");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("15d3b3e1",n,!0)},zxYj:function(e,t,a){"use strict";function n(e){a("Medr")}function r(e){a("nftU")}Object.defineProperty(t,"__esModule",{value:!0});var o=a("Dd8w"),s=a.n(o),c={props:{info:{type:Array,default:[]}},methods:{accept:function(e){this.$emit("accept",e)},notAccept:function(e){var t=this;this.$confirm("确认不接收订单吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$emit("notAccept",e)}).catch(function(){console.log("取消不接订单")})},dispatch:function(e){this.$emit("dispatch",e)},cancel:function(e){var t=this;this.$confirm("确认取消订单吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$emit("cancel",e)}).catch(function(){console.log("没有取消订单")})}}},l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.info}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-table",{attrs:{data:t.row.dishs,"show-summary":""}},[a("el-table-column",{attrs:{prop:"dishName",label:"商品名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dishNum",label:"数量"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dishPrice",label:"单价"}})],1)],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[3===t.row.orderStatus?a("el-button",{staticClass:"accept",attrs:{type:"text",size:"small"},on:{click:function(a){e.accept(t.row)}}},[e._v("接单")]):e._e(),e._v(" "),3===t.row.orderStatus?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.notAccept(t.row)}}},[e._v("不接单")]):e._e(),e._v(" "),5!==t.row.orderStatus&&2!==t.row.orderStatus&&3!==t.row.orderStatus?a("el-button",{staticClass:"notAccept",attrs:{type:"text",size:"small"},on:{click:function(a){e.cancel(t.row)}}},[e._v("取消订单")]):e._e(),e._v(" "),2===t.row.orderStatus?a("el-button",{staticClass:"disabled",attrs:{type:"text",size:"small"}},[e._v("已完成")]):e._e(),e._v(" "),5===t.row.orderStatus?a("el-button",{staticClass:"disabled",attrs:{type:"text",size:"small"}},[e._v("已取消")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"订单金额",prop:"orderAmount"}}),e._v(" "),a("el-table-column",{attrs:{label:"联系电话",prop:"userPhone"}}),e._v(" "),a("el-table-column",{attrs:{label:"收货地址",prop:"acceptAddress"}}),e._v(" "),a("el-table-column",{attrs:{label:"备注",prop:"orderRemarks"}})],1)],1)},i=[],d={render:l,staticRenderFns:i},p=d,u=a("VU/8"),f=n,g=u(c,p,!1,f,"data-v-2f2addda",null),h=g.exports,m=a("JZJf"),v=a("NYxO"),b={components:{orderCard:h},data:function(){return{orderTag:[{value:3,label:"新订单"},{value:4,label:"进行中"},{value:2,label:"已完成"},{value:5,label:"已取消"}],activeTag:3,pageNum:1,totalPage:1,pageSize:7,currentInfo:[]}},mounted:function(){this.getSellerOrder(),document.getElementsByClassName("el-main")[0].scrollTo(0,0)},computed:s()({},Object(v.c)("seller",["sellerInfo","newOrderNum"])),watch:{newOrderNum:function(){this.getSellerOrder()}},methods:s()({changePage:function(e){this.pageNum=e,this.getSellerOrder()},accept:function(e){var t=this,a=this.sellerInfo.shopId;console.log(a);var n=e.shopOrderId;Object(m.g)(a,n,1).then(function(e){1===e.code?t.$message({type:"success",message:"订单已接收"}):t.$message({type:"error",message:"操作失败"})}),this.getSellerOrder()},notAccept:function(e){var t=this,a=this.sellerInfo.shopId,n=e.shopOrderId;Object(m.g)(a,n,2).then(function(e){1===e.code?t.$message({type:"success",message:"已拒接一个订单"}):t.$message({type:"error",message:"操作失败"})}),this.getSellerOrder()},cancelOrder:function(e){var t=this,a=this.sellerInfo.shopId,n=e.shopOrderId;Object(m.g)(a,n,3).then(function(e){1===e.code?t.$message({type:"success",message:"已取消订单"}):t.$message({type:"error",message:"操作失败"})}),this.getSellerOrder()},getSellerOrder:function(){var e=this,t=this.pageNum,a=this.activeTag,n=this.sellerInfo.shopId;Object(m.f)(n,t,a).then(function(t){e.pageNum=t.data.pageNum,e.totalPage=t.data.totalPage,e.currentInfo=t.data.shopOrders,3===a&&e.setNewOrderNum(t.data.shopOrders.length)})},changeTag:function(e){if(this.activeTag===e)return!1;this.activeTag=e,this.pageNum=1,this.getSellerOrder()}},Object(v.d)({setNewOrderNum:"seller/SET_NEW_ORDER_NUM"}))},x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"order",staticClass:"order"},[a("div",{staticClass:"header"},[a("ul",e._l(e.orderTag,function(t,n){return a("li",{key:n,class:{active:t.value===e.activeTag},on:{click:function(a){e.changeTag(t.value)}}},[e._v(e._s(t.label))])}))]),e._v(" "),a("div",{staticClass:"wrapper"},[a("div",{staticClass:"content"},[a("order-card",{staticClass:"orderCard",attrs:{info:e.currentInfo.filter(function(t){return t.orderStatus===e.activeTag})},on:{accept:e.accept,notAccept:e.notAccept,cancel:e.cancelOrder}})],1),e._v(" "),a("el-pagination",{staticClass:"el-pagination",attrs:{layout:"prev, pager, next","page-size":e.pageSize,"page-count":e.totalPage},on:{"current-change":e.changePage}})],1)])},_=[],w={render:x,staticRenderFns:_},O=w,y=a("VU/8"),S=r,k=y(b,O,!1,S,"data-v-33a0686c",null);t.default=k.exports}});