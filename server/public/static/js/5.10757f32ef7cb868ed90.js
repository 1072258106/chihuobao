webpackJsonp([5],{"2ML4":function(e,n,t){"use strict";function a(e){t("ER0v")}function i(e){t("gCUl")}Object.defineProperty(n,"__esModule",{value:!0});var s=t("Dd8w"),o=t.n(s),r=t("NYxO"),c=t("CjlA"),l=t("jhy/"),d={props:{info:{type:Object,default:{}}},mounted:function(){this.$refs["el-rate"].$el.querySelectorAll(".el-rate__icon").forEach(function(e){e.style.fontSize="14px"})},methods:{select:function(){this.$emit("select",this.info)}}},A=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"shopCard clearfix",on:{click:e.select}},[t("img",{attrs:{src:e.info.shopLogo,width:"70",height:"70"}}),e._v(" "),t("div",{staticClass:"message"},[t("p",{staticClass:"name"},[e._v(e._s(e.info.shopName))]),e._v(" "),t("el-rate",{ref:"el-rate",attrs:{disabled:"","show-score":"","text-color":"#ff9900"},model:{value:e.info.level,callback:function(n){e.$set(e.info,"level",n)},expression:"info.level"}}),e._v(" "),t("p",{staticClass:"perMonth"},[e._v(e._s("月销"+(e.info.monthlySales||0)+"单"))]),e._v(" "),t("p",{staticClass:"dispatchCost"},[e._v(e._s("配送费￥"+e.info.shopDeliveryCost))])],1)])},p=[],f={render:A,staticRenderFns:p},h=f,C=t("VU/8"),u=a,g=C(d,h,!1,u,"data-v-681ce996",null),B=g.exports,v=t("pN2o"),x={data:function(){return{pageNum:1,totalPage:1,loading:!1,name:"",shopType:1,filterList:["全部商家","美食","快餐便当","特色菜系","异国料理","小吃宵夜","甜品饮品","果蔬生鲜","商店超市","早餐","午餐","下午茶","晚餐"]}},components:{searchBox:c.a,sellerFilter:l.a,shopCard:B},created:function(){var e=this;this.getList(),window.onscroll=function(){!e.loading&&e.__getScrollHeight()<=e.__getWindowHeight()+window.scrollY+100&&e.pageNum<e.totalPage&&(e.loading=!0,e.pageNum++,e.getList())}},beforeDestroy:function(){window.onscroll=null,console.log("执行了beforeDestory")},computed:o()({},Object(r.c)("user",["exactAddress","shopList"])),watch:{$route:function(){this.getList()}},methods:o()({getList:function(){var e=this;this.loading=!0;var n=this.$router.currentRoute.query.name,t=this.exactAddress.location.lng,a=this.exactAddress.location.lat,i=this.pageNum,s=this.shopType;Object(v.f)(t,a,i,s,n).then(function(n){e.pageNum=n.data.pageNum,e.totalPage=n.data.totalPage,setTimeout(function(){e.loading=!1},1e3),e.setShopList(n.data.shopBrieflys)})},selectShop:function(e){this.$router.push("/shop/"+e.shopId)},filterSelect:function(e){this.pageNum=1,this.shopType=e,this.name="",this.clearShopList(),this.$router.push({path:"/place",query:{shopType:e,name:void 0,pageNum:void 0}})},search:function(e){this.name=e,this.pageNum=1,this.shopType=1,this.clearShopList(),this.$router.push({path:"/place",query:{shopType:void 0,name:this.name,pageNum:void 0}})},changeAddress:function(){this.clearExactAddress(),this.$router.push("/home")},__getScrollHeight:function(){var e=void 0,n=void 0;return document.body&&(e=document.body.scrollHeight),document.documentElement&&(n=document.documentElement.scrollHeight),e-n>0?e:n},__getWindowHeight:function(){return"CSS1Compat"===document.compatMode?document.documentElement.clientHeight:document.body.clientHeight}},Object(r.b)("user",["clearExactAddress"]),Object(r.d)({setShopList:"user/SET_SHOP_LIST",clearShopList:"user/CLEAR_SHOP_LIST"}))},m=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"container"},[t("div",{staticClass:"header clearfix"},[t("div",{staticClass:"address"},[t("span",[e._v("当前位置：")]),e._v(" "),t("span",[e._v(e._s(e.exactAddress&&e.exactAddress.name))]),e._v(" "),t("span",{on:{click:e.changeAddress}},[e._v("[切换地址]")])]),e._v(" "),t("search-box",{staticClass:"search",on:{search:e.search}})],1),e._v(" "),t("seller-filter",{staticClass:"filter",attrs:{filterList:e.filterList},on:{select:e.filterSelect}}),e._v(" "),t("div",{staticClass:"content clearfix"},[e._l(e.shopList,function(n){return t("shop-card",{key:n.shopId,staticClass:"shopCard",attrs:{info:n},on:{select:e.selectShop}})}),e._v(" "),e.loading?t("div",{staticClass:"loading"},[t("i",{staticClass:"el-icon-loading"}),e._v("正在加载")]):e._e()],2)],1)},b=[],_={render:m,staticRenderFns:b},k=_,y=t("VU/8"),w=i,I=y(x,k,!1,w,"data-v-cc3f552a",null);n.default=I.exports},"8LEE":function(e,n,t){n=e.exports=t("FZ+f")(!0),n.push([e.i,"\n.shopCard[data-v-681ce996] {\n  height: 118px;\n  padding: 20px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  -webkit-transition: all .1s;\n  transition: all .1s;\n  cursor: pointer;\n}\n.shopCard[data-v-681ce996]:hover {\n    background: #eee;\n}\n.shopCard:hover .message .name[data-v-681ce996] {\n    color: #006bc7;\n}\n.shopCard img[data-v-681ce996] {\n    vertical-align: middle;\n    display: inline-block;\n}\n.shopCard .message[data-v-681ce996] {\n    display: inline-block;\n    vertical-align: top;\n    margin-left: 10px;\n}\n.shopCard .message p[data-v-681ce996] {\n      margin-top: 3px;\n}\n.shopCard .message .name[data-v-681ce996] {\n      font-size: 15px;\n      font-weight: 600;\n}\n.shopCard .message .perMonth[data-v-681ce996], .shopCard .message .dispatchCost[data-v-681ce996] {\n      font-size: 13px;\n}\n","",{version:3,sources:["G:/WebstormProjects/Vue/chihuobao/src/components/shopCard.vue"],names:[],mappings:";AACA;EACE,cAAc;EACd,cAAc;EACd,+BAA+B;UACvB,uBAAuB;EAC/B,4BAA4B;EAC5B,oBAAoB;EACpB,gBAAgB;CACjB;AACD;IACI,iBAAiB;CACpB;AACD;IACI,eAAe;CAClB;AACD;IACI,uBAAuB;IACvB,sBAAsB;CACzB;AACD;IACI,sBAAsB;IACtB,oBAAoB;IACpB,kBAAkB;CACrB;AACD;MACM,gBAAgB;CACrB;AACD;MACM,gBAAgB;MAChB,iBAAiB;CACtB;AACD;MACM,gBAAgB;CACrB",file:"shopCard.vue",sourcesContent:["\n.shopCard[data-v-681ce996] {\n  height: 118px;\n  padding: 20px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  -webkit-transition: all .1s;\n  transition: all .1s;\n  cursor: pointer;\n}\n.shopCard[data-v-681ce996]:hover {\n    background: #eee;\n}\n.shopCard:hover .message .name[data-v-681ce996] {\n    color: #006bc7;\n}\n.shopCard img[data-v-681ce996] {\n    vertical-align: middle;\n    display: inline-block;\n}\n.shopCard .message[data-v-681ce996] {\n    display: inline-block;\n    vertical-align: top;\n    margin-left: 10px;\n}\n.shopCard .message p[data-v-681ce996] {\n      margin-top: 3px;\n}\n.shopCard .message .name[data-v-681ce996] {\n      font-size: 15px;\n      font-weight: 600;\n}\n.shopCard .message .perMonth[data-v-681ce996], .shopCard .message .dispatchCost[data-v-681ce996] {\n      font-size: 13px;\n}\n"],sourceRoot:""}])},ALpD:function(e,n,t){var a=t("UKwS");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);t("rjj0")("1a1b22cc",a,!0)},ER0v:function(e,n,t){var a=t("8LEE");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);t("rjj0")("30a74c12",a,!0)},I9eq:function(e,n,t){n=e.exports=t("FZ+f")(!0),n.push([e.i,"\n.container[data-v-cc3f552a] {\n  min-width: 1050px;\n}\n.container .header[data-v-cc3f552a] {\n    margin: 10px 0;\n}\n.container .header .address[data-v-cc3f552a] {\n      float: left;\n}\n.container .header .search[data-v-cc3f552a] {\n      float: right;\n}\n.container .filter[data-v-cc3f552a] {\n    border: 1px solid #eee;\n    padding: 15px;\n}\n.container .content[data-v-cc3f552a] {\n    min-height: 500px;\n    border: 1px solid #eee;\n    margin-top: 20px;\n    background: #fff;\n}\n.container .content .shopCard[data-v-cc3f552a] {\n      float: left;\n      width: 25%;\n}\n.container .content .loading[data-v-cc3f552a] {\n      margin: 20px auto;\n      text-align: center;\n}\n","",{version:3,sources:["G:/WebstormProjects/Vue/chihuobao/src/pages/user/place.vue"],names:[],mappings:";AACA;EACE,kBAAkB;CACnB;AACD;IACI,eAAe;CAClB;AACD;MACM,YAAY;CACjB;AACD;MACM,aAAa;CAClB;AACD;IACI,uBAAuB;IACvB,cAAc;CACjB;AACD;IACI,kBAAkB;IAClB,uBAAuB;IACvB,iBAAiB;IACjB,iBAAiB;CACpB;AACD;MACM,YAAY;MACZ,WAAW;CAChB;AACD;MACM,kBAAkB;MAClB,mBAAmB;CACxB",file:"place.vue",sourcesContent:["\n.container[data-v-cc3f552a] {\n  min-width: 1050px;\n}\n.container .header[data-v-cc3f552a] {\n    margin: 10px 0;\n}\n.container .header .address[data-v-cc3f552a] {\n      float: left;\n}\n.container .header .search[data-v-cc3f552a] {\n      float: right;\n}\n.container .filter[data-v-cc3f552a] {\n    border: 1px solid #eee;\n    padding: 15px;\n}\n.container .content[data-v-cc3f552a] {\n    min-height: 500px;\n    border: 1px solid #eee;\n    margin-top: 20px;\n    background: #fff;\n}\n.container .content .shopCard[data-v-cc3f552a] {\n      float: left;\n      width: 25%;\n}\n.container .content .loading[data-v-cc3f552a] {\n      margin: 20px auto;\n      text-align: center;\n}\n"],sourceRoot:""}])},UKwS:function(e,n,t){n=e.exports=t("FZ+f")(!0),n.push([e.i,"\n.filter[data-v-1ccb4f8a] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  background: #fff;\n}\n.filter .label[data-v-1ccb4f8a] {\n    -webkit-box-flex: 0;\n        -ms-flex: 0 0 100px;\n            flex: 0 0 100px;\n    padding: 5px;\n}\n.filter ul[data-v-1ccb4f8a] {\n    -webkit-box-flex: 1;\n        -ms-flex: 1;\n            flex: 1;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-wrap: wrap;\n        flex-wrap: wrap;\n}\n.filter ul li[data-v-1ccb4f8a] {\n      padding: 5px 10px;\n      margin: auto 5px;\n      line-height: 20px;\n      font-size: 15px;\n      -webkit-transition: all .1s;\n      transition: all .1s;\n}\n.filter ul li[data-v-1ccb4f8a]:hover {\n        background: #eee;\n        cursor: pointer;\n        border-radius: 3px;\n}\n.filter ul li.active[data-v-1ccb4f8a] {\n        background: #dedede;\n}\n","",{version:3,sources:["G:/WebstormProjects/Vue/chihuobao/src/components/sellerfilter.vue"],names:[],mappings:";AACA;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,iBAAiB;CAClB;AACD;IACI,oBAAoB;QAChB,oBAAoB;YAChB,gBAAgB;IACxB,aAAa;CAChB;AACD;IACI,oBAAoB;QAChB,YAAY;YACR,QAAQ;IAChB,qBAAqB;IACrB,qBAAqB;IACrB,cAAc;IACd,oBAAoB;QAChB,gBAAgB;CACvB;AACD;MACM,kBAAkB;MAClB,iBAAiB;MACjB,kBAAkB;MAClB,gBAAgB;MAChB,4BAA4B;MAC5B,oBAAoB;CACzB;AACD;QACQ,iBAAiB;QACjB,gBAAgB;QAChB,mBAAmB;CAC1B;AACD;QACQ,oBAAoB;CAC3B",file:"sellerfilter.vue",sourcesContent:["\n.filter[data-v-1ccb4f8a] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  background: #fff;\n}\n.filter .label[data-v-1ccb4f8a] {\n    -webkit-box-flex: 0;\n        -ms-flex: 0 0 100px;\n            flex: 0 0 100px;\n    padding: 5px;\n}\n.filter ul[data-v-1ccb4f8a] {\n    -webkit-box-flex: 1;\n        -ms-flex: 1;\n            flex: 1;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-wrap: wrap;\n        flex-wrap: wrap;\n}\n.filter ul li[data-v-1ccb4f8a] {\n      padding: 5px 10px;\n      margin: auto 5px;\n      line-height: 20px;\n      font-size: 15px;\n      -webkit-transition: all .1s;\n      transition: all .1s;\n}\n.filter ul li[data-v-1ccb4f8a]:hover {\n        background: #eee;\n        cursor: pointer;\n        border-radius: 3px;\n}\n.filter ul li.active[data-v-1ccb4f8a] {\n        background: #dedede;\n}\n"],sourceRoot:""}])},gCUl:function(e,n,t){var a=t("I9eq");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);t("rjj0")("21f9c6a6",a,!0)},"jhy/":function(e,n,t){"use strict";function a(e){t("ALpD")}var i={data:function(){return{activeTag:this.filterList[0]}},props:{filterList:{type:Array,default:[]},filterMsg:{type:String,default:"商家分类"}},methods:{select:function(e){this.$emit("select",e),this.activeTag=e}}},s=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"filter"},[t("div",{staticClass:"label"},[e._v(e._s(e.filterMsg)+"：")]),e._v(" "),e.filterList.length?t("ul",e._l(e.filterList,function(n){return t("li",{class:{active:e.activeTag===n},on:{click:function(t){e.select(n)}}},[e._v(e._s(n))])})):e._e()])},o=[],r={render:s,staticRenderFns:o},c=r,l=t("VU/8"),d=a,A=l(i,c,!1,d,"data-v-1ccb4f8a",null);n.a=A.exports}});
//# sourceMappingURL=5.10757f32ef7cb868ed90.js.map