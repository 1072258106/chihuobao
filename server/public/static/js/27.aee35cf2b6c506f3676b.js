webpackJsonp([27],{"66rM":function(e,a,r){a=e.exports=r("FZ+f")(!0),a.push([e.i,"\n._new {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  padding: 20px;\n  height: 100%;\n  background: #fff;\n}\n._new .el-form {\n    margin: 30px auto 0;\n    width: 60%;\n}\n._new .avatar-uploader .el-upload {\n    border: 1px dashed #d9d9d9;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n}\n._new .avatar-uploader .el-upload:hover {\n      border-color: #409EFF;\n}\n._new .avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    width: 178px;\n    height: 178px;\n    line-height: 178px;\n    text-align: center;\n}\n._new .avatar {\n    width: 178px;\n    height: 178px;\n    display: block;\n}\n","",{version:3,sources:["G:/WebstormProjects/Vue/chihuobao/src/pages/seller/new.vue"],names:[],mappings:";AACA;EACE,+BAA+B;UACvB,uBAAuB;EAC/B,cAAc;EACd,aAAa;EACb,iBAAiB;CAClB;AACD;IACI,oBAAoB;IACpB,WAAW;CACd;AACD;IACI,2BAA2B;IAC3B,mBAAmB;IACnB,gBAAgB;IAChB,mBAAmB;IACnB,iBAAiB;CACpB;AACD;MACM,sBAAsB;CAC3B;AACD;IACI,gBAAgB;IAChB,eAAe;IACf,aAAa;IACb,cAAc;IACd,mBAAmB;IACnB,mBAAmB;CACtB;AACD;IACI,aAAa;IACb,cAAc;IACd,eAAe;CAClB",file:"new.vue",sourcesContent:["\n._new {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  padding: 20px;\n  height: 100%;\n  background: #fff;\n}\n._new .el-form {\n    margin: 30px auto 0;\n    width: 60%;\n}\n._new .avatar-uploader .el-upload {\n    border: 1px dashed #d9d9d9;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n}\n._new .avatar-uploader .el-upload:hover {\n      border-color: #409EFF;\n}\n._new .avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    width: 178px;\n    height: 178px;\n    line-height: 178px;\n    text-align: center;\n}\n._new .avatar {\n    width: 178px;\n    height: 178px;\n    display: block;\n}\n"],sourceRoot:""}])},F54f:function(e,a,r){var t=r("66rM");"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);r("rjj0")("a0da7358",t,!0)},n2sk:function(e,a,r){"use strict";function t(e){r("F54f")}Object.defineProperty(a,"__esModule",{value:!0});var n=r("Dd8w"),o=r.n(n),l=r("JZJf"),i=r("NYxO"),s={data:function(){return{imageUrl:"",validateForm:{price:"",abstract:"",name:"",type:1},types:[{label:"全部",value:1},{label:"早餐",value:2},{label:"午餐",value:3},{label:"晚餐",value:4}]}},computed:o()({},Object(i.c)("seller",["sellerInfo"])),methods:{add:function(){},submitForm:function(e){var a=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;if(!a.imageUrl)return a.$message({type:"error",message:"请上传图片"}),!1;var r=a.imageUrl,t=a.sellerInfo.shopId,n=a.validateForm,o=n.name,i=n.price,s=n.abstract,d=n.type;Object(l.a)(t,o,i,d,s,r).then(function(e){1===e.code?(a.$message({type:"success",message:"添加成功!"}),a.$router.push("/seller/menu")):a.$message({type:"error",message:"添加失败!"})})})},handleAvatarSuccess:function(e,a){this.imageUrl=URL.createObjectURL(a.raw),this.imageUrl="/uploads/"+e.filename},beforeAvatarUpload:function(e){var a="image/jpeg"===e.type||"image/png"||"image/gif",r=e.size/1024/1024<2;return a||this.$message.error("上传头像图片只能是 JPG 格式!"),r||this.$message.error("上传头像图片大小不能超过 2MB!"),a&&r}}},d=function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("div",{staticClass:"_new"},[r("el-form",{ref:"validateForm",staticClass:"demo-ruleForm",attrs:{model:e.validateForm,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"名称",prop:"name",rules:[{required:!0,message:"名称不能为空"}]}},[r("el-input",{attrs:{type:"name","auto-complete":"off"},model:{value:e.validateForm.name,callback:function(a){e.$set(e.validateForm,"name",e._n(a))},expression:"validateForm.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"价格",prop:"price",rules:[{required:!0,message:"价格不能为空"}]}},[r("el-input",{attrs:{type:"price","auto-complete":"off"},model:{value:e.validateForm.price,callback:function(a){e.$set(e.validateForm,"price",e._n(a))},expression:"validateForm.price"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"类型",prop:"type",rules:[{required:!0,message:"类型不能为空"}]}},[r("el-select",{attrs:{placeholder:"请选择菜品类型"},model:{value:e.validateForm.type,callback:function(a){e.$set(e.validateForm,"type",a)},expression:"validateForm.type"}},e._l(e.types,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"描述",prop:"abstract",rules:[{required:!0,message:"描述不能为空"}]}},[r("el-input",{attrs:{type:"abstract","auto-complete":"off"},model:{value:e.validateForm.abstract,callback:function(a){e.$set(e.validateForm,"abstract",e._n(a))},expression:"validateForm.abstract"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"图片",prop:"imageUrl"}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://localhost:3333/upload",name:"file","with-credentials":!0,"show-file-list":!1,drag:!0,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?r("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(a){e.submitForm("validateForm")}}},[e._v("提交")])],1)],1)],1)},p=[],c={render:d,staticRenderFns:p},u=c,m=r("VU/8"),A=t,v=m(s,u,!1,A,null,null);a.default=v.exports}});
//# sourceMappingURL=27.aee35cf2b6c506f3676b.js.map