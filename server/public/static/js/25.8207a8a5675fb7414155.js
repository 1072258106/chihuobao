webpackJsonp([25],{GqB7:function(e,a,t){var r=t("o5tz");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);t("rjj0")("932b8392",r,!0)},QQOC:function(e,a,t){"use strict";function r(e){t("GqB7")}Object.defineProperty(a,"__esModule",{value:!0});var o=t("Dd8w"),l=t.n(o),n=t("NYxO"),s=t("pN2o"),i=t("OOMk"),p=i.a.user.upload,d={data:function(){return{logoUrl:"",imgUrl:"",cardPic:"",TRUE:"",uploadUrl:p,validateForm:{abstract:"",name:"",type:[],address:"",cardId:""},types:[{label:"全部",value:1},{label:"早餐",value:2},{label:"午餐",value:3},{label:"晚餐",value:4}]}},computed:l()({},Object(n.c)("user",["cityOptions","suggestionsList","userInfo"])),methods:{submitForm:function(e){var a=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;if(!a.imgUrl||!a.logoUrl)return a.$message({type:"error",message:"请上传图片"}),!1;var t=a.logoUrl,r=a.imgUrl,o=a.cardPic,l=a.userInfo,n=a.validateForm,i=n.name,p=n.abstract,d=n.cardId,c=n.type,u=n.address;Object(s.a)(l,i,p,d,c,u,t,o,r).then(function(e){1===e.code?a.$message({type:"success",message:"已提交申请!"}):a.$message({type:"error",message:"操作失败"})})})},logoSuccess:function(e,a){this.logoUrl=e.path},img1Success:function(e,a){this.imgUrl=e.path},cardPicSuccess:function(e,a){this.cardPic=e.path},beforeAvatarUpload:function(e){var a="image/jpeg"===e.type||"image/png"||"image/gif",t=e.size/1024/1024<2;return a||this.$message.error("上传图片只能是 JPG 格式!"),t||this.$message.error("上传图片大小不能超过 2MB!"),a&&t}}},c=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"applyShop"},[t("p",{staticClass:"title"},[e._v("店铺申请")]),e._v(" "),t("el-form",{ref:"validateForm",staticClass:"demo-ruleForm _el-form",attrs:{model:e.validateForm,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"店铺名称",prop:"name",rules:[{required:!0,message:"名称不能为空"}]}},[t("el-input",{attrs:{type:"name","auto-complete":"off"},model:{value:e.validateForm.name,callback:function(a){e.$set(e.validateForm,"name",a)},expression:"validateForm.name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"简介",prop:"abstract",rules:[{required:!0,message:"联系人不能为空"}]}},[t("el-input",{attrs:{type:"abstract","auto-complete":"off"},model:{value:e.validateForm.abstract,callback:function(a){e.$set(e.validateForm,"abstract",a)},expression:"validateForm.abstract"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"身份证",prop:"cardId",rules:[{required:!0,message:"身份证不能为空"}]}},[t("el-input",{attrs:{type:"userId","auto-complete":"off"},model:{value:e.validateForm.cardId,callback:function(a){e.$set(e.validateForm,"cardId",a)},expression:"validateForm.cardId"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"类型",prop:"type",rules:[{required:!0,message:"类型不能为空"}]}},[t("el-select",{attrs:{placeholder:"请选择菜品类型"},model:{value:e.validateForm.type,callback:function(a){e.$set(e.validateForm,"type",a)},expression:"validateForm.type"}},e._l(e.types,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"地址",prop:"address",rules:[{required:!0,message:"地址不能为空"}]}},[t("el-input",{attrs:{type:"address","auto-complete":"off"},model:{value:e.validateForm.address,callback:function(a){e.$set(e.validateForm,"address",a)},expression:"validateForm.address"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"logo",prop:"logoUrl"}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadUrl,name:"file","with-credentials":e.TRUE,"show-file-list":!1,drag:!0,"on-success":e.logoSuccess,"before-upload":e.beforeAvatarUpload}},[e.logoUrl?t("img",{staticClass:"avatar",attrs:{src:e.logoUrl}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),t("el-form-item",{attrs:{label:"身份证照片",prop:"cardPic"}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadUrl,name:"file","with-credentials":e.TRUE,"show-file-list":!1,drag:!0,"on-success":e.cardPicSuccess,"before-upload":e.beforeAvatarUpload}},[e.cardPic?t("img",{staticClass:"avatar",attrs:{src:e.cardPic}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),t("el-form-item",{attrs:{label:"商铺照片",prop:"imgUrl"}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadUrl,name:"file","with-credentials":e.TRUE,"show-file-list":!1,drag:!0,"on-success":e.img1Success,"before-upload":e.beforeAvatarUpload}},[e.imgUrl?t("img",{staticClass:"avatar",attrs:{src:e.imgUrl}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.submitForm("validateForm")}}},[e._v("提交")])],1)],1)],1)},u=[],m={render:c,staticRenderFns:u},A=m,f=t("VU/8"),g=r,v=f(d,A,!1,g,null,null);a.default=v.exports},o5tz:function(e,a,t){a=e.exports=t("FZ+f")(!0),a.push([e.i,"\n.applyShop {\n  background: #fff;\n  padding-bottom: 20px;\n}\n.applyShop .title {\n    font-size: 20px;\n    text-align: center;\n    font-weight: 600;\n    padding: 30px;\n}\n.applyShop .el-form._el-form {\n    margin: 30px auto 0;\n    width: 60%;\n}\n.applyShop .avatar-uploader .el-upload {\n    border: 1px dashed #d9d9d9;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n}\n.applyShop .avatar-uploader .el-upload:hover {\n      border-color: #409EFF;\n}\n.applyShop .avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    height: 178px;\n    line-height: 178px;\n    text-align: center;\n}\n.applyShop .avatar {\n    height: 178px;\n    display: block;\n}\n.applyShop .el-input-group__prepend {\n    padding: 0;\n    border: none;\n}\n.applyShop .el-input-group__prepend .el-cascader {\n      width: 150px;\n}\n","",{version:3,sources:["G:/WebstormProjects/Vue/chihuobao/src/pages/user/applyShop.vue"],names:[],mappings:";AACA;EACE,iBAAiB;EACjB,qBAAqB;CACtB;AACD;IACI,gBAAgB;IAChB,mBAAmB;IACnB,iBAAiB;IACjB,cAAc;CACjB;AACD;IACI,oBAAoB;IACpB,WAAW;CACd;AACD;IACI,2BAA2B;IAC3B,mBAAmB;IACnB,gBAAgB;IAChB,mBAAmB;IACnB,iBAAiB;CACpB;AACD;MACM,sBAAsB;CAC3B;AACD;IACI,gBAAgB;IAChB,eAAe;IACf,cAAc;IACd,mBAAmB;IACnB,mBAAmB;CACtB;AACD;IACI,cAAc;IACd,eAAe;CAClB;AACD;IACI,WAAW;IACX,aAAa;CAChB;AACD;MACM,aAAa;CAClB",file:"applyShop.vue",sourcesContent:["\n.applyShop {\n  background: #fff;\n  padding-bottom: 20px;\n}\n.applyShop .title {\n    font-size: 20px;\n    text-align: center;\n    font-weight: 600;\n    padding: 30px;\n}\n.applyShop .el-form._el-form {\n    margin: 30px auto 0;\n    width: 60%;\n}\n.applyShop .avatar-uploader .el-upload {\n    border: 1px dashed #d9d9d9;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n}\n.applyShop .avatar-uploader .el-upload:hover {\n      border-color: #409EFF;\n}\n.applyShop .avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    height: 178px;\n    line-height: 178px;\n    text-align: center;\n}\n.applyShop .avatar {\n    height: 178px;\n    display: block;\n}\n.applyShop .el-input-group__prepend {\n    padding: 0;\n    border: none;\n}\n.applyShop .el-input-group__prepend .el-cascader {\n      width: 150px;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=25.8207a8a5675fb7414155.js.map